# üìÅ File Storage Organizer ‚Äî –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Flask

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (`storage/`) —Å –ø–æ–º–æ—â—å—é –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤.

---

## ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéØ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ (–∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ñ–∞–π–ª–µ
- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ë–î –∏ –Ω–∞ –¥–∏—Å–∫
- –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–∏ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –∏ –∏–∑ –±–∞–∑—ã)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–µ (–∏–º—è, –ø—É—Ç—å, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–æ HTTP
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –ë–î (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö / —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö)

---

## üí° –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### üîß –°–ª–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏:
–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É **Service Layer**:

- `FileService` ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
- `FileRepository` ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (CRUD), –∏–∑–æ–ª–∏—Ä—É—è SQLAlchemy.
- `StorageManager` ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª–∞–º–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `storage/`: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ, —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.

–¢–∞–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±–ª–µ–≥—á–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.

### üß± MVC:
- **Model**: `FileRecord` (SQLAlchemy)
- **View**: HTML-—à–∞–±–ª–æ–Ω—ã + Bootstrap + JavaScript
- **Controller**: `views.py` (Flask route-—Ñ—É–Ω–∫—Ü–∏–∏)

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ docker-compose.yml                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose
‚îú‚îÄ‚îÄ Dockerfile                          # Dockerfile –¥–ª—è Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt                    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ .env                                # –§–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è)
‚îú‚îÄ‚îÄ .env.example                        # –®–∞–±–ª–æ–Ω –¥–ª—è .env
‚îî‚îÄ‚îÄ src/                                # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ app.py                          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
    ‚îú‚îÄ‚îÄ config.py                       # –ö–ª–∞—Å—Å Config —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ Flask
    ‚îú‚îÄ‚îÄ models.py                       # SQLAlchemy –º–æ–¥–µ–ª–∏
    ‚îú‚îÄ‚îÄ views.py                        # —Ä–æ—É—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ templates/                      # HTML-—à–∞–±–ª–æ–Ω—ã
    ‚îú‚îÄ‚îÄ static/                         # CSS, JS –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ storage/                        # –§–∞–π–ª—ã, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Å–∏—Å—Ç–µ–º–æ–π
    ‚îî‚îÄ‚îÄ services/                       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
        ‚îú‚îÄ‚îÄ file_service.py
        ‚îú‚îÄ‚îÄ file_repository.py
        ‚îú‚îÄ‚îÄ storage_manager.py
        ‚îî‚îÄ‚îÄ path_service.py
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (—á–µ—Ä–µ–∑ Docker)

```bash
git clone https://github.com/PsYcHo-DiSs/file_storage_organizer_v2.git
cd file_storage_organizer_v2
cp .env.example .env
docker-compose up --build
```

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:5000

---

## ‚öôÔ∏è .env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
SQLALCHEMY_DATABASE_URI=postgresql://postgres:123321@localhost:5654/file_storage
SECRET_KEY=75_57_75
WTF_CSRF_ENABLED=True
FLASK_DEBUG=False
SQLALCHEMY_ECHO=False
```

---

## üê≥ Docker-–æ–ø–∏—Å–∞–Ω–∏–µ

| –°–µ—Ä–≤–∏—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ         | –ü–æ—Ä—Ç  | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|--------|--------------------|-------|-------------|
| db     | PostgreSQL 15      | 5654  | –° volume |
| app    | Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ   | 5000  | –°—Ç–∞—Ä—Ç—É–µ—Ç –ø–æ—Å–ª–µ –ë–î |

---

## üß™ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
python -m src.app
```

---

## üîÅ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –ë–î –ø–æ –∫–Ω–æ–ø–∫–µ
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ / —É–¥–∞–ª–µ–Ω–∏–µ
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

---

## üß† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Backend**: Python, Flask, SQLAlchemy, PostgreSQL  
**Frontend**: Bootstrap, JavaScript (fetch API, –º–æ–¥—É–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)  
**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: Docker, Compose

---

## üí¨ –û—Ç–≤–µ—Ç—ã

**–°—Ä–æ–∫–∏**: –æ–∫–æ–ª–æ 7 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã  
**–ó–∞—á–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—ã**: –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã  
**–ß—Ç–æ —É–ª—É—á—à–µ–Ω–æ**: —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å, —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å, —á–∏—Ç–∞–µ–º–æ—Å—Ç—å